"use strict";(self.webpackChunksrmd_frontend_subtitle_editor=self.webpackChunksrmd_frontend_subtitle_editor||[]).push([[491],{30491:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Le});var a=t(30168),i=t(50390),r=t(6323),o=t.n(r),s=t(5836),l=t.n(s),c=t(52891),m=t.n(c),d=t(83962);const u=[{name:"\u7b80\u4f53\u4e2d\u6587",key:"zh"},{name:"\u7e41\u4f53\u4e2d\u6587",key:"zh-TW"},{name:"\u82f1\u8bed",key:"en"},{name:"\u5357\u975e\u8377\u5170\u8bed",key:"af"},{name:"\u963f\u5c14\u5df4\u5c3c\u4e9a\u8bed",key:"sq"},{name:"\u963f\u59c6\u54c8\u62c9\u8bed",key:"am"},{name:"\u963f\u62c9\u4f2f\u8bed",key:"ar"},{name:"\u4e9a\u7f8e\u5c3c\u4e9a\u8bed",key:"hy"},{name:"\u963f\u585e\u62dc\u7586\u8bed",key:"az"},{name:"\u5df4\u65af\u514b\u8bed",key:"eu"},{name:"\u767d\u4fc4\u7f57\u65af\u8bed",key:"be"},{name:"\u5b5f\u52a0\u62c9\u8bed",key:"bn"},{name:"\u6ce2\u65af\u5c3c\u4e9a\u8bed",key:"bs"},{name:"\u4fdd\u52a0\u5229\u4e9a\u8bed",key:"bg"},{name:"\u52a0\u6cf0\u7f57\u5c3c\u4e9a\u8bed",key:"ca"},{name:"\u5bbf\u52a1\u8bed",key:"ceb"},{name:"\u79d1\u897f\u5609\u8bed",key:"co"},{name:"\u514b\u7f57\u5730\u4e9a\u8bed",key:"hr"},{name:"\u6377\u514b\u8bed",key:"cs"},{name:"\u4e39\u9ea6\u8bed",key:"da"},{name:"\u8377\u5170\u8bed",key:"nl"},{name:"\u4e16\u754c\u8bed",key:"eo"},{name:"\u7231\u6c99\u5c3c\u4e9a\u8bed",key:"et"},{name:"\u82ac\u5170\u8bed",key:"fi"},{name:"\u6cd5\u8bed",key:"fr"},{name:"\u5f17\u91cc\u65af\u5170\u8bed",key:"fy"},{name:"\u52a0\u5229\u897f\u4e9a\u8bed",key:"gl"},{name:"\u683c\u9c81\u5409\u4e9a\u8bed",key:"ka"},{name:"\u5fb7\u8bed",key:"de"},{name:"\u5e0c\u814a\u8bed",key:"el"},{name:"\u53e4\u5409\u62c9\u7279\u8bed",key:"gu"},{name:"\u6d77\u5730\u514b\u91cc\u5965\u5c14\u8bed",key:"ht"},{name:"\u8c6a\u8428\u8bed",key:"ha"},{name:"\u590f\u5a01\u5937\u8bed",key:"haw"},{name:"\u5e0c\u4f2f\u6765\u8bed",key:"he"},{name:"\u5370\u5730\u8bed",key:"hi"},{name:"\u82d7\u8bed",key:"hmn"},{name:"\u5308\u7259\u5229\u8bed",key:"hu"},{name:"\u51b0\u5c9b\u8bed",key:"is"},{name:"\u4f0a\u535a\u8bed",key:"ig"},{name:"\u5370\u5ea6\u5c3c\u897f\u4e9a\u8bed",key:"id"},{name:"\u7231\u5c14\u5170\u8bed",key:"ga"},{name:"\u610f\u5927\u5229\u8bed",key:"it"},{name:"\u65e5\u8bed",key:"ja"},{name:"\u722a\u54c7\u8bed",key:"jw"},{name:"\u5361\u7eb3\u8fbe\u8bed",key:"kn"},{name:"\u54c8\u8428\u514b\u8bed",key:"kk"},{name:"\u9ad8\u68c9\u6587",key:"km"},{name:"\u97e9\u8bed",key:"ko"},{name:"\u5e93\u5c14\u5fb7\u8bed",key:"ku"},{name:"\u5409\u5c14\u5409\u65af\u8bed",key:"ky"},{name:"\u8001\u631d\u8bed",key:"lo"},{name:"\u62c9\u4e01\u6587",key:"la"},{name:"\u62c9\u8131\u7ef4\u4e9a\u8bed",key:"lv"},{name:"\u7acb\u9676\u5b9b\u8bed",key:"lt"},{name:"\u5362\u68ee\u5821\u8bed",key:"lb"},{name:"\u9a6c\u5176\u987f\u8bed",key:"mk"},{name:"\u9a6c\u5c14\u52a0\u4ec0\u8bed",key:"mg"},{name:"\u9a6c\u6765\u8bed",key:"ms"},{name:"\u9a6c\u62c9\u96c5\u62c9\u59c6\u6587",key:"ml"},{name:"\u9a6c\u8033\u4ed6\u8bed",key:"mt"},{name:"\u6bdb\u5229\u8bed",key:"mi"},{name:"\u9a6c\u62c9\u5730\u8bed",key:"mr"},{name:"\u8499\u53e4\u6587",key:"mn"},{name:"\u7f05\u7538\u8bed",key:"my"},{name:"\u5c3c\u6cca\u5c14\u8bed",key:"ne"},{name:"\u632a\u5a01\u8bed",key:"no"},{name:"\u5c3c\u6768\u624e\u8bed",key:"ny"},{name:"\u666e\u4ec0\u56fe\u8bed",key:"ps"},{name:"\u6ce2\u65af\u8bed",key:"fa"},{name:"\u6ce2\u5170\u8bed",key:"pl"},{name:"\u8461\u8404\u7259\u8bed",key:"pt"},{name:"\u65c1\u906e\u666e\u8bed",key:"pa"},{name:"\u7f57\u9a6c\u5c3c\u4e9a\u8bed",key:"ro"},{name:"\u4fc4\u8bed",key:"ru"},{name:"\u8428\u6469\u4e9a\u8bed",key:"sm"},{name:"\u82cf\u683c\u5170\u76d6\u5c14\u8bed",key:"gd"},{name:"\u585e\u5c14\u7ef4\u4e9a\u8bed",key:"sr"},{name:"\u585e\u7d22\u6258\u8bed",key:"st"},{name:"\u4fee\u7eb3\u8bed",key:"sn"},{name:"\u4fe1\u5fb7\u8bed",key:"sd"},{name:"\u50e7\u4f3d\u7f57\u8bed",key:"si"},{name:"\u65af\u6d1b\u4f10\u514b\u8bed",key:"sk"},{name:"\u65af\u6d1b\u6587\u5c3c\u4e9a\u8bed",key:"sl"},{name:"\u7d22\u9a6c\u91cc\u8bed",key:"so"},{name:"\u897f\u73ed\u7259\u8bed",key:"es"},{name:"\u5dfd\u4ed6\u8bed",key:"su"},{name:"\u65af\u74e6\u5e0c\u91cc\u8bed",key:"sw"},{name:"\u745e\u5178\u8bed",key:"sv"},{name:"\u5854\u52a0\u8def\u8bed",key:"tl"},{name:"\u5854\u5409\u514b\u8bed",key:"tg"},{name:"\u6cf0\u7c73\u5c14\u8bed",key:"ta"},{name:"\u6cf0\u5362\u56fa\u8bed",key:"te"},{name:"\u6cf0\u6587",key:"th"},{name:"\u571f\u8033\u5176\u8bed",key:"tr"},{name:"\u4e4c\u514b\u5170\u8bed",key:"uk"},{name:"\u4e4c\u5c14\u90fd\u8bed",key:"ur"},{name:"\u4e4c\u5179\u522b\u514b\u8bed",key:"uz"},{name:"\u8d8a\u5357\u8bed",key:"vi"},{name:"\u5a01\u5c14\u58eb\u8bed",key:"cy"},{name:"\u73ed\u56fe\u8bed",key:"xh"},{name:"\u610f\u7b2c\u7eea\u8bed",key:"yi"},{name:"\u7ea6\u9c81\u5df4\u8bed",key:"yo"},{name:"\u7956\u9c81\u8bed",key:"zu"}],y={en:[{name:"Chinese Simplified",key:"zh"},{name:"Chinese Traditional",key:"zh-TW"},{name:"English",key:"en"},{name:"Afrikaans",key:"af"},{name:"Albania",key:"sq"},{name:"Amharic",key:"am"},{name:"Arabic",key:"ar"},{name:"Armenian",key:"hy"},{name:"Azerbaijani",key:"az"},{name:"Basque",key:"eu"},{name:"Belarusian",key:"be"},{name:"Bengali",key:"bn"},{name:"Bosnia",key:"bs"},{name:"Bulgarian",key:"bg"},{name:"Catalan",key:"ca"},{name:"Cebu language",key:"ceb"},{name:"Corsican",key:"co"},{name:"Croatian",key:"hr"},{name:"Czech",key:"cs"},{name:"Danish",key:"da"},{name:"Dutch",key:"nl"},{name:"Esperanto",key:"eo"},{name:"Estonian",key:"et"},{name:"Finnish",key:"fi"},{name:"French",key:"fr"},{name:"Friesian",key:"fy"},{name:"Galician",key:"gl"},{name:"Georgian",key:"ka"},{name:"German",key:"de"},{name:"Greek",key:"el"},{name:"Gujarati",key:"gu"},{name:"Haiti Creole",key:"ht"},{name:"Hausa",key:"ha"},{name:"Hawaiian",key:"haw"},{name:"Hebrew",key:"he"},{name:"Hindi",key:"hi"},{name:"Hmong",key:"hmn"},{name:"Hungarian",key:"hu"},{name:"Icelandic",key:"is"},{name:"Ibo",key:"ig"},{name:"Indonesian",key:"id"},{name:"Irish",key:"ga"},{name:"Italian",key:"it"},{name:"Japanese",key:"ja"},{name:"Javanese",key:"jw"},{name:"Kannada",key:"kn"},{name:"Kazakh",key:"kk"},{name:"Khmer text",key:"km"},{name:"Korean",key:"ko"},{name:"Kurdish",key:"ku"},{name:"Kyrgyz",key:"ky"},{name:"Laotian",key:"lo"},{name:"Latin",key:"la"},{name:"Latvian",key:"lv"},{name:"Lithuania",key:"lt"},{name:"Luxembourg",key:"lb"},{name:"Macedonian",key:"mk"},{name:"Malagasy",key:"mg"},{name:"Malay",key:"ms"},{name:"Malayalam",key:"ml"},{name:"Malta",key:"mt"},{name:"Maori",key:"mi"},{name:"Marathi",key:"mr"},{name:"Mongolian",key:"mn"},{name:"Burmese",key:"my"},{name:"Nepalese",key:"ne"},{name:"Norwegian",key:"no"},{name:"Nyanza",key:"ny"},{name:"Pashto",key:"ps"},{name:"Persian",key:"fa"},{name:"Polish",key:"pl"},{name:"Portuguese",key:"pt"},{name:"Punjabi",key:"pa"},{name:"Romanian",key:"ro"},{name:"Russian",key:"ru"},{name:"Samoan",key:"sm"},{name:"Scottish Gaelic",key:"gd"},{name:"Serbian",key:"sr"},{name:"Sesotho",key:"st"},{name:"Shanna",key:"sn"},{name:"Sin German",key:"sd"},{name:"Sinhala",key:"si"},{name:"Slovakian",key:"sk"},{name:"Slovenian",key:"sl"},{name:"Somali",key:"so"},{name:"Spanish",key:"es"},{name:"Sundanese",key:"su"},{name:"Swahili",key:"sw"},{name:"Swedish",key:"sv"},{name:"Tagalogian",key:"tl"},{name:"Tajik",key:"tg"},{name:"Tamil",key:"ta"},{name:"Telugu",key:"te"},{name:"Thai",key:"th"},{name:"Turkish",key:"tr"},{name:"Ukrainian",key:"uk"},{name:"Urdu",key:"ur"},{name:"Uzbek",key:"uz"},{name:"Vietnamese",key:"vi"},{name:"Welsh",key:"cy"},{name:"bantu",key:"xh"},{name:"Yiddish",key:"yi"},{name:"Yoruba",key:"yo"},{name:"zulu",key:"zu"}],zh:u,"zh-cn":u,"zh-tw":u,tr:[{name:"Basitle\u015ftirilmi\u015f \xc7ince",key:"zh"},{name:"Geleneksel \xc7ince",key:"zh-TW"},{name:"\u0130ngilizce",key:"en"},{name:"Afrikaanca",key:"af"},{name:"Arnavut\xe7a",key:"sq"},{name:"Amharca",key:"am"},{name:"Arap\xe7a",key:"ar"},{name:"Ermenice",key:"hy"},{name:"Azerbaycanca",key:"az"},{name:"Bask\xe7a",key:"eu"},{name:"Belarus\xe7a",key:"be"},{name:"Bengalce",key:"bn"},{name:"Bo\u015fnak\xe7a",key:"bs"},{name:"Bulgarca",key:"bg"},{name:"Katalanca",key:"ca"},{name:"Sabuanca",key:"ceb"},{name:"Korsikaca",key:"co"},{name:"H\u0131rvat\xe7a",key:"hr"},{name:"\xc7ek\xe7e",key:"cs"},{name:"Danca",key:"da"},{name:"Felemenk\xe7e",key:"nl"},{name:"Esperanto",key:"eo"},{name:"Estonca",key:"et"},{name:"Fince",key:"fi"},{name:"Frans\u0131zca",key:"fr"},{name:"Frizce",key:"fy"},{name:"Gali\xe7yaca",key:"gl"},{name:"G\xfcrc\xfcce",key:"ka"},{name:"Almanca",key:"de"},{name:"Yunanca",key:"el"},{name:"Gucerat\xe7a",key:"gu"},{name:"Haiti Kreyolu",key:"ht"},{name:"Hausaca",key:"ha"},{name:"Hawaii dili",key:"haw"},{name:"\u0130branice",key:"he"},{name:"Hint\xe7e",key:"hi"},{name:"Hmong",key:"hmn"},{name:"Macarca",key:"hu"},{name:"\u0130zlandaca",key:"is"},{name:"\u0130gbo dili",key:"ig"},{name:"Endonezce",key:"id"},{name:"\u0130rlandaca",key:"ga"},{name:"\u0130talyanca",key:"it"},{name:"Japonca",key:"ja"},{name:"Cava dili",key:"jw"},{name:"Kannada dili",key:"kn"},{name:"Kazak\xe7a",key:"kk"},{name:"Kmerce",key:"km"},{name:"Korece",key:"ko"},{name:"K\xfcrt\xe7e",key:"ku"},{name:"K\u0131rg\u0131zca",key:"ky"},{name:"Laoca",key:"lo"},{name:"Latince",key:"la"},{name:"Letonca",key:"lv"},{name:"Litvanca",key:"lt"},{name:"L\xfcksemburgca",key:"lb"},{name:"Makedonca",key:"mk"},{name:"Malga\u015f\xe7a",key:"mg"},{name:"Malayca",key:"ms"},{name:"Malayalamca",key:"ml"},{name:"Maltaca",key:"mt"},{name:"Maorice",key:"mi"},{name:"Marathice",key:"mr"},{name:"Mo\u011folca",key:"mn"},{name:"Birmanca",key:"my"},{name:"Nepalce",key:"ne"},{name:"Norve\xe7\xe7e",key:"no"},{name:"\xc7evaca",key:"ny"},{name:"Pe\u015ftuca",key:"ps"},{name:"Fars\xe7a",key:"fa"},{name:"Leh\xe7e",key:"pl"},{name:"Portekizce",key:"pt"},{name:"Pencap\xe7a",key:"pa"},{name:"Rumence",key:"ro"},{name:"Rus\xe7a",key:"ru"},{name:"Samoaca",key:"sm"},{name:"\u0130sko\xe7\xe7a Gaelic",key:"gd"},{name:"S\u0131rp\xe7a",key:"sr"},{name:"Sotho dili",key:"st"},{name:"\u015eona dili",key:"sn"},{name:"Since",key:"sd"},{name:"Sinhala dili",key:"si"},{name:"Slovak\xe7a",key:"sk"},{name:"Slovence",key:"sl"},{name:"Somalice",key:"so"},{name:"\u0130spanyolca",key:"es"},{name:"Sundaca",key:"su"},{name:"Svahili",key:"sw"},{name:"\u0130sve\xe7\xe7e",key:"sv"},{name:"Tagalogca",key:"tl"},{name:"Tacik\xe7e",key:"tg"},{name:"Tamilce",key:"ta"},{name:"Teluguca",key:"te"},{name:"Tayca",key:"th"},{name:"T\xfcrk\xe7e",key:"tr"},{name:"Ukraynaca",key:"uk"},{name:"Urduca",key:"ur"},{name:"\xd6zbek\xe7e",key:"uz"},{name:"Vietnamca",key:"vi"},{name:"Galce",key:"cy"},{name:"bantu",key:"xh"},{name:"Yidi\u015f",key:"yi"},{name:"Yoruba dili",key:"yo"},{name:"Zuluca",key:"zu"}]};var k=t(87019);const p=window.navigator.userAgent;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(p);function b(e){const n=document.activeElement.tagName.toUpperCase(),t=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==t&&"true"!==t)return Number(e.keyCode)}function g(e){return!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)}var h=t(26269),x=t.n(h);class f{constructor(e){this.start=e.start,this.end=e.end,this.text=e.text,this.text2=e.text2}get check(){return this.startTime>=0&&this.endTime>=0&&this.startTime<this.endTime}get clone(){return new f(this)}get startTime(){return l().t2d(this.start)}set startTime(e){this.start=l().d2t(x()(e,0,1/0))}get endTime(){return l().t2d(this.end)}set endTime(e){this.end=l().d2t(x()(e,0,1/0))}get duration(){return parseFloat((this.endTime-this.startTime).toFixed(3))}}const v=e=>{let n=[],t="",a=e.split(/[:.]/).map((e=>Number(e)));return a=e.split(/[:.]/).map((e=>Number(e))),a[3]="0."+("00"+a[3]).slice(-3),t=(60*a[0]*60+60*a[1]+a[2]+Number(a[3])).toFixed(2),t=t.toString().split("."),n.unshift(t[1]),t=Number(t[0]),n.unshift(("0"+(t%60).toString()).slice(-2)),n.unshift(("0"+(Math.floor(t/60)%60).toString()).slice(-2)),n.unshift((Math.floor(t/3600)%60).toString()),n.slice(0,3).join(":")+"."+n[3]};async function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return new Promise(((t,a)=>{const i=[];!function r(){const o=e.shift();o?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(!e.trim())return Promise.resolve("");const t=new URL("https://translate.googleapis.com/translate_a/single");return t.searchParams.append("client","gtx"),t.searchParams.append("sl","auto"),t.searchParams.append("dt","t"),t.searchParams.append("tl",n),t.searchParams.append("q",e),new Promise(((e,n)=>{fetch(t.href).then((e=>e.json())).then((n=>{e(n?n[0].map((e=>e[0].trim())).join("\n"):"")})).catch((e=>{n(e)}))}))}(o.text,n).then((e=>{o.text=e,i.push(o),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((n=>setTimeout(n,e)))}(100).then(r)})).catch((e=>{a(e)})):t(i)}()}))}var S,T=t(78932),j=t.n(T),C=t(46709),N=t.n(C),z=t(98046),E=t(94381),L=t.n(E),P=t(62559);const M=d.ZP.div(S||(S=(0,a.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding-bottom: 20px;\n    position: relative;\n    overflow: hidden;\n    background-color: rgb(0 0 0 / 100%);\n    border-left: 1px solid rgb(255 255 255 / 20%);\n\n    .import {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #3f51b5;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n\n        .file {\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n        }\n    }\n\n    .burn {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .export {\n        display: flex;\n        justify-content: space-around;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 45%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .operate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 30%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .translate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        select {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .hotkey {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        line-height: 0px;\n        span {\n            width: 49%;\n            font-size: 13px;\n            padding: 20px 0;\n            border-radius: 3px;\n            text-align: center;\n            color: rgb(255 255 255 / 75%);\n            background-color: rgb(255 255 255 / 20%);\n        }\n    }\n\n    .bottom {\n        padding: 10px;\n        a {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid rgb(255 255 255 / 30%);\n            text-decoration: none;\n\n            .title {\n                color: #ffeb3b;\n                padding: 5px 10px;\n                animation: animation 3s infinite;\n                border-bottom: 1px solid rgb(255 255 255 / 30%);\n            }\n\n            @keyframes animation {\n                50% {\n                    color: #00bcd4;\n                }\n            }\n\n            img {\n                max-width: 100%;\n            }\n        }\n    }\n\n    .progress {\n        position: fixed;\n        left: 0;\n        top: 0;\n        right: 0;\n        z-index: 9;\n        height: 2px;\n        background-color: rgb(0 0 0 / 50%);\n\n        span {\n            display: inline-block;\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0;\n            height: 100%;\n            background-color: #ff9800;\n            transition: all 0.2s ease 0s;\n        }\n    }\n"])));function A(e){let{player:n,waveform:t,newSub:a,undoSubs:r,clearSubs:o,language:s,subtitle:l,setLoading:c,formatSub:m,setSubtitle:d,setProcessing:u,notify:p}=e;const[b,g]=(0,i.useState)("en"),h=(0,i.useCallback)((e=>{let n="";const t="".concat(Date.now(),".").concat(e);switch(e){case"vtt":n="WEBVTT\n\n"+l.map(((e,n)=>n+1+"\n"+e.start+" --\x3e "+e.end+" line:13 position:50% align:center size:80%\n"+e.text)).join("\n\n");break;case"srt":n=function(e){return e.map(((e,n)=>"".concat(n+1,"\n").concat(e.start.replace(".",",")," --\x3e ").concat(e.end.replace(".",","),"\n").concat(e.text))).join("\n\n")}(l);break;case"ass":n=function(e){return"\n[Script Info]\n; // \u6b64\u5b57\u5e55\u7531\u7231\u5e55\u751f\u6210\nSynch Point:1\nScriptType:v4.00+\nCollisions:Normal\n\n[V4+ Styles]\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\nStyle: Default, Microsoft YaHei, 20, &H00FFFFFF, &H000000FF, &H00000000, &H00000000, 0, 0, 0, 0, 100, 100, 0, 0, 1, 1, 0, 2, 10, 10, 10, 134\n\n[Events]\nFormat: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text\n".concat(e.map((e=>{const n=v(e.start),t=v(e.end),a=e.text.replace(/\r?\n/g,"\\N");return"Dialogue: 0,".concat(n,",").concat(t,",Default,NTP,0000,0000,0000,,").concat(a)})).join("\n"),"\n    ").trim()}(l);break;case"txt":n=function(e){return e.map((e=>e.text)).join("\n\n")}(l);break;case"json":n=JSON.stringify(l)}!function(e,n){const t=document.createElement("a");t.style.display="none",t.href=e,t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}(URL.createObjectURL(new Blob([n])),t)}),[l]),x=(0,i.useCallback)((()=>{c((0,k.t)("TRANSLATING")),w(m(l),b).then((e=>{c(""),d(m(e)),p({message:(0,k.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((e=>{c(""),p({message:e.message,level:"error"})}))}),[l,c,m,d,b,p]);return(0,P.jsx)(M,{className:"tool",children:(0,P.jsxs)("div",{className:"top",children:[(0,P.jsxs)("div",{className:"export",children:[(0,P.jsx)("div",{className:"btn",onClick:()=>h("srt"),children:(0,P.jsx)(k.vN,{value:"EXPORT_SRT"})}),(0,P.jsx)("div",{className:"btn",onClick:()=>h("vtt"),children:(0,P.jsx)(k.vN,{value:"EXPORT_VTT"})})]}),(0,P.jsxs)("div",{className:"operate",children:[(0,P.jsx)("div",{className:"btn",onClick:()=>{!0===window.confirm((0,k.t)("CLEAR_TIP"))&&(o(),window.location.reload())},children:(0,P.jsx)(k.vN,{value:"CLEAR"})}),(0,P.jsx)("div",{className:"btn",onClick:r,children:(0,P.jsx)(k.vN,{value:"UNDO"})}),(0,P.jsx)("div",{className:"btn",onClick:e=>{c((0,k.t)("UPDATING"));const n={cues:[],valid:!0};l.forEach(((e,t)=>{const a={identifier:"",start:e.start.split(":").reduce(((e,n)=>60*e+ +n)),end:e.end.split(":").reduce(((e,n)=>60*e+ +n)),text:e.text,styles:"line:13 position:50% align:center size:80%"};n.cues.push(a)})),console.log(n);try{const e=JSON.parse(localStorage.getItem("videoProps")),t=N().compile(n);z.Z.put("https://speechtotexteditor.azurewebsites.net/api/v1/videos/".concat(e.id),{subtitleString:btoa(t)}).then((function(e){c(""),L().fire({title:"Success!",text:"Your changes have been saved!",icon:"success",confirmButtonText:"Close"}).then((n=>{n.isConfirmed&&(localStorage.removeItem("subtitle"),localStorage.setItem("videoProps",JSON.stringify(e.data)),window.location.reload())}))})).catch((function(e){console.log(e)}))}catch(t){c(""),L().fire({title:"Error!",text:"Subtitle Timings Overlap. Please fix and try again!",icon:"error",confirmButtonText:"Close"})}},children:(0,P.jsx)(k.vN,{value:"Save"})})]}),(0,P.jsxs)("div",{className:"translate",children:[(0,P.jsx)("select",{value:b,onChange:e=>g(e.target.value),children:(y[s]||y.en).map((e=>(0,P.jsx)("option",{value:e.key,children:e.name},e.key)))}),(0,P.jsx)("div",{className:"btn",onClick:x,children:(0,P.jsx)(k.vN,{value:"TRANSLATE"})})]}),(0,P.jsxs)("div",{className:"hotkey",children:[(0,P.jsx)("span",{children:(0,P.jsx)(k.vN,{value:"HOTKEY_01"})}),(0,P.jsx)("span",{children:(0,P.jsx)(k.vN,{value:"HOTKEY_02"})})]})]})})}j().createFFmpeg({log:!0}).load();var R,F=t(20257),I=t(33043),D=t.n(I),H=t(3143),B=t.n(H);const O=d.ZP.div(R||(R=(0,a.Z)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Table__row {\n            .item {\n                height: 100%;\n                padding: 5px;\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function _(e){let{currentIndex:n,subtitle:t,checkSub:a,player:r,updateSub:o}=e;const[s,l]=(0,i.useState)(100),c=(0,i.useCallback)((()=>{l(document.body.clientHeight-170)}),[l]);return(0,i.useEffect)((()=>{if(c(),!c.init){c.init=!0;const e=B()(c,500);window.addEventListener("resize",e)}}),[c]),(0,P.jsx)(O,{className:"subtitles",children:(0,P.jsx)(F.iA,{headerHeight:40,width:250,height:s,rowHeight:80,scrollToIndex:n,rowCount:t.length,rowGetter:e=>{let{index:n}=e;return t[n]},headerRowRenderer:()=>null,rowRenderer:e=>(0,P.jsx)("div",{className:e.className,style:e.style,onClick:()=>{r&&(r.pause(),r.duration>=e.rowData.startTime&&(r.currentTime=e.rowData.startTime+.001))},children:(0,P.jsx)("div",{className:"item",children:(0,P.jsx)("textarea",{maxLength:200,spellCheck:!1,className:["textarea",n===e.index?"highlight":"",a(e.rowData)?"illegal":""].join(" ").trim(),value:D()(e.rowData.text),onChange:n=>{o(e.rowData,{text:n.target.value})}})})},e.key)})})}var Z,G=t(39993);const K=d.ZP.div(Z||(Z=(0,a.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    padding: 20% 10%;\n\n    .video {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: auto;\n        width: auto;\n        position: relative;\n\n        video {\n            position: relative;\n            z-index: 10;\n            outline: none;\n            max-height: 100%;\n            max-width: 100%;\n            box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n            background-color: #000;\n            cursor: pointer;\n        }\n\n        .subtitle {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            z-index: 20;\n            left: 0;\n            right: 0;\n            bottom: 20%;\n            width: 100%;\n            padding: 0 20px;\n            user-select: none;\n            pointer-events: none;\n\n            .operate {\n                padding: 5px 15px;\n                color: #fff;\n                font-size: 13px;\n                border-radius: 3px;\n                margin-bottom: 5px;\n                background-color: rgb(0 0 0 / 75%);\n                border: 1px solid rgb(255 255 255 / 20%);\n                cursor: pointer;\n                pointer-events: all;\n            }\n\n            .textarea {\n                width: 100%;\n                outline: none;\n                resize: none;\n                text-align: center;\n                line-height: 1.2;\n                border: none;\n                color: #fff;\n                font-size: 20px;\n                padding: 5px 10px;\n                user-select: all;\n                pointer-events: all;\n                background-color: rgb(0 0 0 / 0);\n                text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                    rgb(0 0 0) 0px -1px 1px;\n\n                &.pause {\n                    background-color: rgb(0 0 0 / 50%);\n                }\n            }\n        }\n    }\n"]))),U=(0,i.memo)((e=>{let{setPlayer:n,setCurrentTime:t,setPlaying:a}=e;const r=(0,i.createRef)();(0,i.useEffect)((()=>{n(r.current),function e(){window.requestAnimationFrame((()=>{r.current&&(a(g(r.current)),t(r.current.currentTime||0)),e()}))}()}),[n,t,a,r]);const o=(0,i.useCallback)((()=>{r.current&&(g(r.current)?r.current.pause():r.current.play())}),[r]),s=JSON.parse(localStorage.getItem("videoProps"));return(0,P.jsx)("video",{controls:!0,onClick:o,src:"".concat(s.videoUrl),ref:r})}),(()=>!0));function W(e){const[n,t]=(0,i.useState)(null),[a,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(0),l=(0,i.createRef)();(0,i.useMemo)((()=>{t(e.subtitle[e.currentIndex])}),[e.subtitle,e.currentIndex]);const c=(0,i.useCallback)((t=>{e.player.pause(),e.updateSub(n,{text:t.target.value}),t.target.selectionStart&&s(t.target.selectionStart)}),[e,n]),m=(0,i.useCallback)((n=>{e.player.pause(),n.target.selectionStart&&s(n.target.selectionStart)}),[e]),d=(0,i.useCallback)((e=>{r(!0),e.target.selectionStart&&s(e.target.selectionStart)}),[]),u=(0,i.useCallback)((()=>{setTimeout((()=>r(!1)),500)}),[]),y=(0,i.useCallback)((()=>{e.splitSub(n,o)}),[e,n,o]);return(0,P.jsx)(K,{className:"player",children:(0,P.jsxs)("div",{className:"video",ref:l,children:[(0,P.jsx)(U,{...e}),e.player&&n?(0,P.jsxs)("div",{className:"subtitle",children:[a?(0,P.jsx)("div",{className:"operate",onClick:y,children:(0,P.jsx)(k.vN,{value:"SPLIT"})}):null,(0,P.jsx)(G.Z,{className:"textarea ".concat(e.playing?"":"pause"),value:n.text,onChange:c,onClick:m,onFocus:d,onBlur:u,onKeyDown:d,spellCheck:!1})]}):null]})})}var X,J=t(13836),V=t.n(J),Y=t(94116),q=t.n(Y),Q=t(39898);const $=d.ZP.div(X||(X=(0,a.Z)(["\n    position: absolute;\n    z-index: 9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n\n    .react-contextmenu-wrapper {\n        position: absolute;\n        z-index: 9;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: all;\n    }\n\n    .sub-item {\n        position: absolute;\n        top: 30%;\n        left: 0;\n        height: 40%;\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        color: #fff;\n        font-size: 14px;\n        cursor: move;\n        user-select: none;\n        pointer-events: all;\n        background-color: rgba(255, 255, 255, 0.2);\n        border: 1px solid rgba(255, 255, 255, 0.2);\n\n        &:hover {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        &.sub-highlight {\n            background-color: rgba(33, 150, 243, 0.5);\n            border: 1px solid rgba(33, 150, 243, 0.5);\n        }\n\n        &.sub-illegal {\n            background-color: rgba(199, 81, 35, 0.5);\n        }\n\n        .sub-handle {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            z-index: 1;\n            height: 100%;\n            cursor: col-resize;\n            user-select: none;\n            &:hover {\n                background-color: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        .sub-text {\n            position: relative;\n            z-index: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            word-break: break-all;\n            white-space: nowrap;\n            text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                rgb(0 0 0) 0px -1px 1px;\n            width: 100%;\n            height: 100%;\n\n            p {\n                margin: 2px 0;\n                line-height: 1;\n\n                &.bilingual {\n                    transform: scale(0.8);\n                }\n            }\n        }\n\n        .sub-duration {\n            opacity: 0.5;\n            position: absolute;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            text-align: center;\n            font-size: 12px;\n        }\n    }\n"])));function ee(e,n){return n&&e>n-.1&&n+.1>e?n:e}let ne=null,te=null,ae="",ie=0,re=-1,oe=0,se=0,le=!1;const ce=i.memo((function(e){let{player:n,subtitle:t,render:a,currentTime:r,checkSub:o,removeSub:s,hasSub:c,updateSub:m,mergeSub:d}=e;const u=i.createRef(),y=i.createRef(),p=(g=t,h=a.beginTime,x=a.duration,g.filter((e=>e.startTime>=h&&e.startTime<=h+x||e.endTime>=h&&e.endTime<=h+x||e.startTime<h&&e.endTime>h+x)));var g,h,x;const f=document.body.clientWidth/a.gridNum,v=p.findIndex((e=>e.startTime<=r&&e.endTime>r)),w=(e,n,t)=>{te=e,0===n.button&&(le=!0,ae=t,ie=n.pageX,re=p.indexOf(e),ne=y.current.children[re],oe=parseFloat(ne.style.width))},S=(0,i.useCallback)((e=>{le&&ne&&(se=e.pageX-ie,"left"===ae?(ne.style.width="".concat(oe-se,"px"),ne.style.transform="translate(".concat(se,"px)")):"right"===ae?ne.style.width="".concat(oe+se,"px"):ne.style.transform="translate(".concat(se,"px)"))}),[]),T=(0,i.useCallback)((()=>{if(le&&ne&&se){const e=se/f/10,n=c(te),a=t[n-1],i=t[n+1],r=ee(te.startTime+e,a?a.endTime:null),o=ee(te.endTime+e,i?i.startTime:null),s=10*(o-r)*f;if(a&&o<a.startTime||i&&r>i.endTime);else if("left"===ae)if(r>=0&&te.endTime-r>=.2){const e=l().d2t(r);m(te,{start:e})}else ne.style.width="".concat(s,"px");else if("right"===ae)if(o>=0&&o-te.startTime>=.2){const e=l().d2t(o);m(te,{end:e})}else ne.style.width="".concat(s,"px");else if(r>0&&o>0&&o-r>=.2){const e=l().d2t(r),n=l().d2t(o);m(te,{start:e,end:n})}else ne.style.width="".concat(s,"px");ne.style.transform="translate(0)"}ae="",ie=0,oe=0,se=0,le=!1}),[f,c,t,m]),j=(0,i.useCallback)((e=>{const t=p[re];if(t&&ne){switch(b(e)){case 37:m(t,{start:l().d2t(t.startTime-.1),end:l().d2t(t.endTime-.1)}),n.currentTime=t.startTime-.1;break;case 39:m(t,{start:l().d2t(t.startTime+.1),end:l().d2t(t.endTime+.1)}),n.currentTime=t.startTime+.1;break;case 8:case 46:s(t)}}}),[p,n,s,m]);return(0,i.useEffect)((()=>(document.addEventListener("mousemove",S),document.addEventListener("mouseup",T),window.addEventListener("keydown",j),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",T),window.removeEventListener("keydown",j)})),[S,T,j]),(0,P.jsxs)($,{ref:u,children:[(0,P.jsx)("div",{ref:y,children:p.map(((e,i)=>(0,P.jsx)("div",{className:["sub-item",i===v?"sub-highlight":"",o(e)?"sub-illegal":""].join(" ").trim(),style:{left:a.padding*f+(e.startTime-a.beginTime)*f*10,width:(e.endTime-e.startTime)*f*10},onClick:()=>{n.duration>=e.startTime&&(n.currentTime=e.startTime+.001)},onDoubleClick:n=>((e,n)=>{const a=n.currentTarget,i=c(e),r=t[i-1],o=t[i+1];if(r&&o){const n=10*(o.startTime-r.endTime)*f;a.style.width="".concat(n,"px");const t=l().d2t(r.endTime),i=l().d2t(o.startTime);m(e,{start:t,end:i})}})(e,n),children:(0,P.jsxs)(Q.W4,{id:"contextmenu",holdToDisplay:-1,children:[(0,P.jsx)("div",{className:"sub-handle",style:{left:0,width:10},onMouseDown:n=>w(e,n,"left")}),(0,P.jsx)("div",{className:"sub-text",title:e.text,onMouseDown:n=>w(e,n),children:"".concat(e.text).split(/\r?\n/).map(((e,n)=>(0,P.jsx)("p",{children:e},n)))}),(0,P.jsx)("div",{className:"sub-handle",style:{right:0,width:10},onMouseDown:n=>w(e,n,"right")}),(0,P.jsx)("div",{className:"sub-duration",children:e.duration})]})},i)))}),(0,P.jsxs)(Q.xV,{id:"contextmenu",children:[(0,P.jsx)(Q.sN,{onClick:()=>s(te),children:(0,P.jsx)(k.vN,{value:"DELETE"})}),(0,P.jsx)(Q.sN,{onClick:()=>d(te),children:(0,P.jsx)(k.vN,{value:"MERGE"})})]})]})}),((e,n)=>m()(e.subtitle,n.subtitle)&&m()(e.render,n.render)&&e.currentTime===n.currentTime));var me;const de=d.ZP.div(me||(me=(0,a.Z)(["\n    position: absolute;\n    z-index: 8;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: ew-resize;\n    user-select: none;\n\n    .template {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        height: 100%;\n        background-color: rgba(76, 175, 80, 0.5);\n        border-left: 1px solid rgba(76, 175, 80, 0.8);\n        border-right: 1px solid rgba(76, 175, 80, 0.8);\n        user-select: none;\n        pointer-events: none;\n    }\n"])));function ue(e){let{render:n,subtitle:t,newSub:a,addSub:r,player:o,playing:s}=e;const[c,m]=(0,i.useState)(!1),[d,u]=(0,i.useState)(0),[y,p]=(0,i.useState)(0),b=document.body.clientWidth/n.gridNum,g=(0,i.useCallback)((e=>(e.pageX-n.padding*b)/b/10+n.beginTime),[b,n]),h=(0,i.useCallback)((e=>{if(0!==e.button)return;const n=g(e);m(!0),u(n)}),[g]),x=(0,i.useCallback)((e=>{c&&(s&&o.pause(),p(g(e)))}),[c,s,o,g]),f=(0,i.useCallback)((()=>{if(c&&d>0&&y>0&&y-d>=.2){const i=(n=d,(e=t).findIndex(((t,a)=>n>=t.endTime&&!e[a+1]||t.startTime<=n&&t.endTime>n||n>=t.endTime&&e[a+1]&&n<e[a+1].startTime))+1),o=l().d2t(d),s=l().d2t(y);r(i,a({start:o,end:s,text:(0,k.t)("SUB_TEXT")}))}var e,n;m(!1),u(0),p(0)}),[c,d,y,t,r,a]);return(0,i.useEffect)((()=>(document.addEventListener("mouseup",f),()=>document.removeEventListener("mouseup",f))),[f]),(0,P.jsx)(de,{onMouseDown:h,onMouseMove:x,children:o&&!s&&d&&y&&y>d?(0,P.jsx)("div",{className:"template",style:{left:n.padding*b+(d-n.beginTime)*b*10,width:(y-d)*b*10}}):null})}var ye;const ke=d.ZP.div(ye||(ye=(0,a.Z)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .progress {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -12px;\n        z-index: 11;\n        width: 100%;\n        height: 12px;\n        user-select: none;\n        border-top: 1px solid rgb(255 255 255 / 20%);\n        background-color: rgb(0 0 0 / 50%);\n\n        .bar {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0%;\n            height: 100%;\n            display: inline-block;\n            background-color: #730000;\n            overflow: hidden;\n\n            .handle {\n                position: absolute;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                width: 10px;\n                cursor: ew-resize;\n                background-color: #ff9800;\n            }\n        }\n\n        .subtitle {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n\n            span {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                height: 100%;\n                background-color: rgb(255 255 255 / 20%);\n            }\n        }\n    }\n\n    .duration {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -40px;\n        z-index: 12;\n        width: 100%;\n        font-size: 18px;\n        color: rgb(255 255 255 / 75%);\n        text-shadow: 0 1px 2px rgb(0 0 0 / 75%);\n        text-align: center;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .waveform {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .grab {\n        position: relative;\n        z-index: 1;\n        cursor: grab;\n        height: 20%;\n        user-select: none;\n        background-color: rgb(33 150 243 / 20%);\n        border-top: 1px solid rgb(33 150 243 / 30%);\n        border-bottom: 1px solid rgb(33 150 243 / 30%);\n\n        &.grabbing {\n            cursor: grabbing;\n        }\n    }\n"]))),pe=(0,i.memo)((e=>{let{player:n,setWaveform:t,setRender:a}=e;const r=(0,i.createRef)();return(0,i.useEffect)((()=>{[...V().instances].forEach((e=>e.destroy()));const e=new(V())({scrollable:!0,useWorker:!1,duration:10,padding:1,wave:!0,pixelRatio:2,container:r.current,mediaElement:n,backgroundColor:"rgba(0, 0, 0, 0)",waveColor:"rgba(255, 255, 255, 0.2)",progressColor:"rgba(255, 255, 255, 0.5)",gridColor:"rgba(255, 255, 255, 0.05)",rulerColor:"rgba(255, 255, 255, 0.5)",paddingColor:"rgba(0, 0, 0, 0)"});t(e),e.on("update",a),e.load("./silence.mp3")}),[n,r,t,a]),(0,P.jsx)("div",{className:"waveform",ref:r})}),(()=>!0)),be=e=>{const[n,t]=(0,i.useState)(0),[a,r]=(0,i.useState)(0),[o,s]=(0,i.useState)(!1),l=(0,i.useCallback)((n=>{0===n.button&&(t(n.pageX),r(e.player.currentTime),s(!0))}),[e.player]),c=()=>{t(0),r(0),s(!1)},m=(0,i.useCallback)((t=>{if(o&&e.player&&e.waveform){const i=x()(a-(t.pageX-n)/document.body.clientWidth*10,0,e.player.duration);e.player.currentTime=i,e.waveform.seek(i)}}),[o,e.player,e.waveform,n,a]);return(0,i.useEffect)((()=>(document.addEventListener("mouseup",c),()=>document.removeEventListener("mouseup",c))),[]),(0,P.jsx)("div",{className:"grab ".concat(o?"grabbing":""),onMouseDown:l,onMouseMove:m})},ge=e=>{const[n,t]=(0,i.useState)(!1),a=(0,i.useCallback)((n=>{if(0!==n.button)return;const t=n.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=t,e.waveform.seek(t)}),[e]),r=(0,i.useCallback)((e=>{0===e.button&&t(!0)}),[t]),o=(0,i.useCallback)((t=>{if(n){const n=t.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=n}}),[n,e.player]),s=(0,i.useCallback)((()=>{n&&(t(!1),e.waveform.seek(e.player.currentTime))}),[n,e.waveform,e.player.currentTime]);return(0,i.useEffect)((()=>(document.addEventListener("mouseup",s),document.addEventListener("mousemove",o),()=>{document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",o)})),[s,o]),(0,P.jsxs)("div",{className:"progress",onClick:a,children:[(0,P.jsx)("div",{className:"bar",style:{width:"".concat(e.currentTime/e.player.duration*100,"%")},children:(0,P.jsx)("div",{className:"handle",onMouseDown:r})}),(0,P.jsx)("div",{className:"subtitle",children:e.subtitle.length<=200?e.subtitle.map(((n,t)=>{const{duration:a}=e.player;return(0,P.jsx)("span",{className:"item",style:{left:"".concat(n.startTime/a*100,"%"),width:"".concat(n.duration/a*100,"%")}},t)})):null})]})},he=e=>{const n=(0,i.useCallback)((e=>(e=e===1/0?0:e,l().d2t(e).split(".")[0])),[]);return(0,P.jsx)("div",{className:"duration",children:(0,P.jsxs)("span",{children:[n(e.currentTime)," / ",n(e.player.duration||0)]})})};function xe(e){const n=(0,i.createRef)(),[t,a]=(0,i.useState)({padding:2,duration:10,gridGap:10,gridNum:110,beginTime:-5}),r=(0,i.useCallback)((t=>{if(!e.player||!e.waveform||e.player.playing||!n.current||!n.current.contains(t.target))return;const a=Math.sign(t.deltaY)/5,i=x()(e.player.currentTime+a,0,e.player.duration);e.player.currentTime=i,e.waveform.seek(i)}),[e.waveform,e.player,n]);return(0,i.useEffect)((()=>{const e=q()(r,100);return window.addEventListener("wheel",e),()=>window.removeEventListener("wheel",e)}),[r]),(0,P.jsx)(ke,{className:"footer",ref:n,children:e.player?(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(ge,{...e}),(0,P.jsx)(he,{...e}),(0,P.jsx)(pe,{...e,setRender:a}),(0,P.jsx)(be,{...e,render:t}),(0,P.jsx)(ue,{...e,render:t}),(0,P.jsx)(ce,{...e,render:t})]}):null})}var fe;const ve=d.ZP.div(fe||(fe=(0,a.Z)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    -webkit-backdrop-filter: saturate(180%) blur(2px);\n    backdrop-filter: saturate(180%) blur(2px);\n    background-color: rgba(0, 0, 0, 0.5);\n\n    .loading-inner {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        width: 200px;\n        height: 200px;\n        padding: 0 10px;\n        border-radius: 10px;\n        color: #fff;\n        background-color: rgb(34 36 60 / 95%);\n        box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.5);\n\n        img {\n            zoom: 0.5;\n            margin-bottom: 10px;\n        }\n    }\n"])));function we(e){let{loading:n}=e;return(0,P.jsx)(ve,{children:(0,P.jsxs)("div",{className:"loading-inner",children:[(0,P.jsx)("img",{src:"/loading.svg",alt:"loading"}),(0,P.jsx)("div",{children:n||(0,k.t)("LOADING")})]})})}var Se;const Te=d.ZP.div(Se||(Se=(0,a.Z)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n    width: 100%;\n    height: 3px;\n    user-select: none;\n    pointer-events: none;\n\n    .inner {\n        position: relative;\n        height: 100%;\n        background-color: #f00;\n        transition: all 0.3s ease 0s;\n        span {\n            position: absolute;\n            top: 3px;\n            right: 0;\n            padding: 2px 5px;\n            color: #fff;\n            font-size: 12px;\n            background-color: rgb(0 0 0 / 80%);\n        }\n    }\n"])));function je(e){let{processing:n}=e;return(0,P.jsx)(Te,{children:(0,P.jsx)("div",{className:"inner",style:{width:"".concat(n,"%")},children:(0,P.jsx)("span",{children:"".concat(n.toFixed(2),"%")})})})}var Ce;const Ne=(0,d.vJ)(Ce||(Ce=(0,a.Z)(['\n    html,\n    body,\n    #root {\n        height: 100%;\n    }\n\n    body {\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;\n        line-height: 2.5;\n        overflow: hidden;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n\n    #root {\n        display: "flex";\n        font-size: 14px;\n        color: #ccc;\n        background-color: rgb(0 0 0 / 90%);\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: #999;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background-color: #ccc;\n    }\n'])));var ze;const Ee=d.ZP.div(ze||(ze=(0,a.Z)(["\n    height: 100%;\n    width: 100%;\n\n    .main {\n        display: flex;\n        height: calc(100% - 200px);\n\n        .player {\n            flex: 1;\n        }\n\n        .subtitles {\n            width: 250px;\n        }\n\n        .tool {\n            width: 300px;\n        }\n    }\n\n    .footer {\n        height: 200px;\n    }\n"])));function Le(e){let{defaultLang:n}=e;const t=(0,i.useRef)([]),a=(0,i.useRef)(null),[r,s]=(0,i.useState)(null),[c,d]=(0,i.useState)(""),[u,y]=(0,i.useState)(0),[k,p]=(0,i.useState)(n),[g,h]=(0,i.useState)([]),[x,v]=(0,i.useState)(null),[w,S]=(0,i.useState)(!1),[T,j]=(0,i.useState)(0),[C,z]=(0,i.useState)(-1),E=(0,i.useCallback)((e=>new f(e)),[]),L=(0,i.useCallback)((e=>g.indexOf(e)),[g]),M=(0,i.useCallback)((e=>Array.isArray(e)?e.map((e=>E(e))):E(e)),[E]),R=(0,i.useCallback)((()=>M(g)),[g,M]),F=(0,i.useCallback)((function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];m()(e,g)||(n&&(t.current.length>=1e3&&t.current.shift(),t.current.push(M(g))),window.localStorage.setItem("subtitle",JSON.stringify(e)),h(e))}),[g,h,M]),I=(0,i.useCallback)((()=>{const e=t.current.pop();e&&F(e,!1)}),[F,t]),D=(0,i.useCallback)((()=>{F([]),t.current.length=0}),[F,t]),H=(0,i.useCallback)((e=>{const n=L(e);if(n<0)return;const t=g[n-1];return t&&e.startTime<t.endTime||!e.check||e.duration<.2}),[g,L]),B=(0,i.useCallback)((e=>{const n=a.current;n.clearNotifications(),n.addNotification({position:"tc",dismissible:"none",autoDismiss:2,message:e.message,level:e.level})}),[a]),O=(0,i.useCallback)((e=>{const n=L(e);if(n<0)return;const t=R();t.splice(n,1),F(t)}),[L,R,F]),Z=(0,i.useCallback)(((e,n)=>{const t=R();t.splice(e,0,M(n)),F(t)}),[R,F,M]),G=(0,i.useCallback)(((e,n)=>{const t=L(e);if(t<0)return;const a=R(),i=M(e);Object.assign(i,n),i.check&&(a[t]=i,F(a))}),[L,R,F,M]),K=(0,i.useCallback)((e=>{const n=L(e);if(n<0)return;const t=R(),a=t[n+1];if(!a)return;const i=E({start:e.start,end:a.end,text:e.text.trim()+"\n"+a.text.trim()});t[n]=i,t.splice(n+1,1),F(t)}),[L,R,F,E]),U=(0,i.useCallback)(((e,n)=>{const t=L(e);if(t<0||!e.text||!n)return;const a=R(),i=e.text.slice(0,n).trim(),r=e.text.slice(n).trim();if(!i||!r)return;const o=(e.duration*(n/e.text.length)).toFixed(3);if(o<.2||e.duration-o<.2)return;a.splice(t,1);const s=l().d2t(e.startTime+parseFloat(o));a.splice(t,0,E({start:e.start,end:s,text:i})),a.splice(t+1,0,E({start:s,end:e.end,text:r})),F(a)}),[L,R,F,E]),X=(0,i.useCallback)((e=>{switch(b(e)){case 32:e.preventDefault(),r&&(w?r.pause():r.play());break;case 90:e.preventDefault(),e.metaKey&&I()}}),[r,w,I]);function J(e){return new Date(null).setSeconds(e),new Date(1e3*e).toISOString().substr(11,12)}(0,i.useEffect)((()=>(window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X))),[X]),(0,i.useMemo)((()=>{const e=g.findIndex((e=>e.startTime<=T&&e.endTime>T));z(e)}),[T,g]),(0,i.useEffect)((()=>{const e=window.localStorage.getItem("subtitle"),n=JSON.parse(localStorage.getItem("videoProps")),t=atob(n.subtitleString);let a=N().parse(t,{strict:!1}).cues.map((e=>{let{start:n,end:t,text:a}=e;return{start:J(n),end:J(t),text:a}})).filter((e=>e.start!==e.end));if(e)try{const n=JSON.parse(e);n.length?h(n.map((e=>new f(e)))):h(a.map((e=>new f(e))))}catch(i){h(a.map((e=>new f(e))))}else h(a.map((e=>new f(e))))}),[h]);const V={player:r,setPlayer:s,subtitle:g,setSubtitle:F,waveform:x,setWaveform:v,currentTime:T,setCurrentTime:j,currentIndex:C,setCurrentIndex:z,playing:w,setPlaying:S,language:k,setLanguage:p,loading:c,setLoading:d,setProcessing:y,subtitleHistory:t,notify:B,newSub:E,hasSub:L,checkSub:H,removeSub:O,addSub:Z,undoSubs:I,clearSubs:D,updateSub:G,formatSub:M,mergeSub:K,splitSub:U};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ne,{}),(0,P.jsxs)(Ee,{children:[(0,P.jsxs)("div",{className:"main",children:[(0,P.jsx)(W,{...V}),(0,P.jsx)(_,{...V}),(0,P.jsx)(A,{...V})]}),(0,P.jsx)(xe,{...V}),c?(0,P.jsx)(we,{loading:c}):null,u>0&&u<100?(0,P.jsx)(je,{processing:u}):null,(0,P.jsx)(o(),{ref:a,allowHTML:!0})]})]})}}}]);
//# sourceMappingURL=491.7931b6d7.chunk.js.map